---
import Typewriter from '../ui/Typewriter.astro';
import SocialIcon from '../icons/SocialIcon.astro';
import { SOCIALS } from '../../data';

/**
 * Hero section with profile photo flip effect and social links
 */
---

<header class="pb-12 border-b border-(--color-border)">
  <div
    class="flex flex-col-reverse md:flex-row md:items-center md:justify-between gap-8"
  >
    <!-- Text Content -->
    <div class="flex-1">
      <h1
        class="text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight mb-3 text-(--color-text)"
      >
        Víctor Manuel Heras
      </h1>
      <p
        class="text-2xl sm:text-3xl font-semibold text-(--color-accent) mb-6 min-h-10"
      >
        <Typewriter />
      </p>

      <!-- Social Links & CV Download -->
      <div class="flex items-center gap-3 flex-wrap">
        {
          SOCIALS.map((social) => (
            <a
              href={social.url}
              target="_blank"
              rel="noopener noreferrer"
              class="btn btn-secondary"
            >
              <SocialIcon
                name={social.icon as 'github' | 'linkedin'}
                class="w-5 h-5"
              />
              <span class="text-sm font-medium">{social.name}</span>
            </a>
          ))
        }
        <!-- CV Download Button -->
        <button id="download-cv" type="button" class="btn btn-primary">
          <svg
            class="w-5 h-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
            ></path>
          </svg>
          <span class="text-sm">Descargar CV</span>
        </button>
      </div>
    </div>

    <!-- Profile Photo with Flip Effect -->
    <div class="shrink-0 flex justify-center md:justify-end">
      <div
        class="relative group perspective-1000 w-32 h-32 md:w-40 md:h-40 lg:w-48 lg:h-48"
      >
        <!-- Decorative ring -->
        <div
          class="absolute inset-0 rounded-full border-2 border-(--color-accent) opacity-50 scale-110 z-10 pointer-events-none"
        >
        </div>

        <!-- Flip Card Container -->
        <div class="flip-card w-full h-full">
          <div class="flip-card-inner group-hover:rotate-y-180">
            <!-- Front - Profile Photo -->
            <div
              class="flip-card-front rounded-full overflow-hidden border-4 border-(--color-border) shadow-xl"
            >
              <img
                src="/perfil.jpg"
                alt="Víctor Manuel Heras"
                class="w-full h-full object-cover"
              />
            </div>
            <!-- Back - Logo (Easter egg trigger) -->
            <button
              id="gravity-trigger"
              type="button"
              class="flip-card-back rounded-full border-4 border-(--color-accent) shadow-xl bg-(--color-bg-secondary) flex items-center justify-center cursor-pointer hover:scale-105 transition-transform"
              aria-label="Easter egg"
            >
              <img
                src="/favicon.svg"
                alt="Logo"
                class="w-1/2 h-1/2 object-contain pointer-events-none"
              />
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
