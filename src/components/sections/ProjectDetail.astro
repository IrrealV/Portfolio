---
import type { Project } from '../../types/portfolio';
interface Props {
  project: Project;
}
const { project: p } = Astro.props;
---

<a
  href="/#projects"
  class="inline-flex items-center gap-2 text-sm text-(--color-text-muted) hover:text-(--color-accent) mb-8"
>
  <svg
    class="w-4 h-4"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
    stroke-width="2"
    ><path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg
  >
  Volver
</a>

<header class="mb-12">
  <h1
    class="text-3xl sm:text-4xl font-bold text-(--color-text) mb-3"
    transition:name={`title-${p.slug}`}
  >
    {p.title}
  </h1>
  <p class="text-lg text-(--color-text-secondary)">{p.tagline}</p>
  {
    p.url && (
      <a
        href={p.url}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-2 mt-4 px-4 py-2 bg-(--color-accent) text-white font-medium rounded-lg hover:opacity-90"
      >
        Visitar ↗
      </a>
    )
  }
</header>

{
  p.image && (
    <div class="mb-12 rounded-xl overflow-hidden border border-(--color-border)">
      <img
        src={p.image}
        alt={p.title}
        class="w-full"
        transition:name={`img-${p.slug}`}
      />
    </div>
  )
}

<section class="mb-10">
  <h2 class="text-xl font-semibold text-(--color-text) mb-4">El Problema</h2>
  <p class="text-(--color-text-secondary)">{p.problem}</p>
</section>

<section class="mb-10">
  <h2 class="text-xl font-semibold text-(--color-text) mb-4">La Solución</h2>
  <p class="text-(--color-text-secondary)">{p.solution}</p>
</section>

{
  p.features.length > 0 && (
    <section class="mb-10">
      <h2 class="text-xl font-semibold text-(--color-text) mb-4">
        Características
      </h2>
      <ul class="space-y-2">
        {p.features.map((f) => (
          <li class="flex gap-3 text-(--color-text-secondary)">
            <span class="text-(--color-accent)">✓</span>
            {f}
          </li>
        ))}
      </ul>
    </section>
  )
}

<section class="mb-10">
  <h2 class="text-xl font-semibold text-(--color-text) mb-4">Tecnologías</h2>
  <div class="flex flex-wrap gap-2">
    {
      p.stack.map((t) => (
        <span class="px-3 py-1.5 text-sm rounded-lg bg-(--color-bg-tertiary) text-(--color-text-secondary) border border-(--color-border)">
          {t}
        </span>
      ))
    }
  </div>
</section>

<div class="pt-8 border-t border-(--color-border)">
  <a
    href="/#projects"
    class="inline-flex items-center gap-2 text-(--color-accent) hover:underline"
    >← Ver proyectos</a
  >
</div>
