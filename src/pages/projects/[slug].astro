---
/**
 * Project Detail Page - Dynamic route for individual projects
 */
import Layout from '../../layouts/Layout.astro';
import ProjectDetail from '../../components/sections/ProjectDetail.astro';
import { PROJECTS } from '../../data';
import type { GetStaticPaths } from 'astro';

export const getStaticPaths = (() => {
  return PROJECTS.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
}) satisfies GetStaticPaths;

const { project } = Astro.props;

if (project.isComingSoon) {
  return Astro.redirect('/');
}

const seoDescription = `${project.tagline} Construido con ${project.stack.slice(0, 3).join(', ')}. ${project.problem.substring(0, 100)}...`;
---

<Layout title={`${project.title} | Victor Heras`} description={seoDescription}>
  <article class="max-w-none">
    <ProjectDetail project={project} />
  </article>
</Layout>
