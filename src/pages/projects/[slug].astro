---
/**
 * Project Detail Page - Dynamic route for individual projects
 */
import Layout from '../../layouts/Layout.astro';
import ProjectDetail from '../../components/sections/ProjectDetail.astro';
import { PROJECTS } from '../../data';
import type { GetStaticPaths } from 'astro';

export const getStaticPaths = (() => {
  return PROJECTS.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
}) satisfies GetStaticPaths;

const { project } = Astro.props;

if (project.isComingSoon) {
  return Astro.redirect('/');
}
---

<Layout title={`${project.title} | Victor Heras`} description={project.tagline}>
  <article class="max-w-none">
    <ProjectDetail project={project} />
  </article>
</Layout>
