---
import Layout from '../layouts/Layout.astro';
import BentoItem from '../components/ui/BentoItem.astro';
import { STACK, PROJECTS } from '../data/info';
---

<Layout>
  <header class="mb-16 flex flex-col gap-6">
    <div>
      <h1 class="text-5xl font-bold tracking-tight text-white mb-2">
        Víctor Heras
      </h1>
      <h2 class="text-xl text-neutral-400 font-medium">
        SysAdmin & Fullstack Developer
      </h2>
    </div>
    <p class="text-neutral-400 max-w-lg leading-relaxed text-lg">
      Estudiante de Ingeniería Telemática (UJA). Transformando café en código
      robusto y despliegues eficientes.
    </p>
  </header>

  <section class="grid grid-cols-1 md:grid-cols-3 gap-4 auto-rows-[200px]">
    {
      PROJECTS.map((project) => (
        <BentoItem
          colSpan={project.colSpan}
          href={project.url}
          class={
            project.id === 'contact'
              ? 'items-center justify-center bg-blue-900/10 border-blue-500/20 hover:bg-blue-900/20'
              : ''
          }
        >
          {/* LÓGICA DE RENDERIZADO SEGÚN EL TIPO DE TARJETA (Clean UI) */}

          {/* CASO 1: STACK */}
          {project.id === 'stack' && (
            <>
              <h3 class="text-neutral-500 text-xs font-bold uppercase tracking-widest mb-4">
                Tech Stack
              </h3>
              <div class="flex flex-wrap gap-2">
                {STACK.map((tech) => (
                  <span
                    class={`px-3 py-1.5 bg-neutral-800/50 border border-neutral-700 rounded-lg text-sm font-medium ${tech.colorClass}`}
                  >
                    {tech.name}
                  </span>
                ))}
              </div>
            </>
          )}

          {/* CASO 2: PROYECTOS NORMALES */}
          {project.id !== 'stack' && project.id !== 'contact' && (
            <>
              <div class="flex justify-between items-start w-full z-10">
                {project.badge && (
                  <span
                    class={`px-2 py-1 text-xs font-semibold rounded-full border ${project.badgeColor}`}
                  >
                    {project.badge}
                  </span>
                )}
              </div>

              <div class="z-10 mt-auto">
                <h3 class="text-xl font-bold text-white group-hover:text-blue-400 transition-colors">
                  {project.title}
                </h3>
                {project.description && (
                  <p class="text-neutral-400 text-sm mt-1">
                    {project.description}
                  </p>
                )}
              </div>
            </>
          )}

          {/* CASO 3: CONTACTO */}
          {project.id === 'contact' && (
            <div class="text-center">
              <p class="text-blue-400 font-bold text-lg">¿Hablamos?</p>
              <p class="text-blue-300/50 text-sm">Mándame un email &rarr;</p>
            </div>
          )}
        </BentoItem>
      ))
    }
  </section>
</Layout>
